<!DOCTYPE html>
<!-- 网站主语言 -->
<html lang="zh-cn">
<head>
    <!-- 网站采用的字符编码 -->
    <meta charset="utf-8">
    <!-- 预留网站标题的位置 -->
    <title>{% block title %}{% endblock %}</title>
    <!-- 引入bootstrap的css文件 -->
    <link rel="stylesheet" href="../static/main.css">
    <script src="../static/main.js"></script>
    <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/popper.js/1.15.0/umd/popper.min.js"></script>
    <!-- 引入layer.js -->
    <link rel="stylesheet" href="../static/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
</head>
<script id="xplayer" src="https://music.piphp.com/Static/player/player.js" key="64e40c86583f0" m="1"></script>
<script>
            $(document).ready(function() {
            $("#theme-form").submit(function(event) {
                event.preventDefault();
                $.post("/toggle_theme", function(data) {
                    location.reload();  // 刷新页面，以便显示新的主题
                });
            });
        });
            window.addEventListener('DOMContentLoaded', function() {
  // 获取主题切换按钮和图像元素
  var themeButton = document.querySelector('#theme-form button');
  var themeImage = themeButton.querySelector('img');

  // 获取后台传递的主题值
  var backendTheme = '{{ theme }}'; // 替换为实际的后台传递的主题值

  // 根据后台主题值切换图像和按钮样式
  if (backendTheme === 'day-theme') {
    themeButton.setAttribute('style', 'border: none; background-color: transparent;');
    themeImage.setAttribute('src', '../static/image/sun.svg');
    themeImage.setAttribute('alt', '切换主题');
  } else if (backendTheme === 'night-theme') {
    themeButton.setAttribute('style', 'border: none; background-color: transparent;');
    themeImage.setAttribute('src', '../static/image/moon.svg');
    themeImage.setAttribute('alt', '切换主题');
  }
});
</script>
{% from 'header.html' import zytopbar %}
<!-- 调用topbar -->
{{ zytopbar() }}
<body class="{{ theme }}">
<!-- 引入导航栏 -->
<!-- 定义导航栏 -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <!-- 导航栏商标 -->
        <a class="navbar-brand" href="#">奇客舒</a>
        <!-- 导航入口 -->
        <div>
         <ul class="navbar-nav">
    <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    其他
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                    <a class="dropdown-item" href="/blog/privacy">隐私协议</a>
                    <a class="dropdown-item" href="/blog/legal-agreement">法律声明</a>
                    <a class="dropdown-item" href="/sitemap">站点地图</a>
                    <a class="dropdown-item" href="/feed">RSS订阅</a>
                </div>
            </li>
    <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    公告
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                    <span>{{ notice }}</span>
                </div>
            </li>
    <li class="nav-item">
                    <form id="theme-form" method="post" action="/toggle_theme">
    <button type="submit">
      <img src="../static/image/sun.svg" alt="切换主题" height="28">
    </button>
  </form>
                </li>
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                账户
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
             {% if userStatu %}
        <a class="dropdown-item" href="/login">登录</a>
                 <br>
                 <img height="90" src="https://7trees.cn/wp-content/uploads/2023/08/348f5b9acc0605ea443058826975a8a1.png" style="border-radius: 8%"></div>
    {% else %}
        <a class="dropdown-item" href="/logout">注销</a>
        <a class="dropdown-item" href="/change-password">修改密码</a>
    {% endif %}
        </li>
         </ul>
</div>
    </div>
</nav>



<!-- 预留具体页面的位置 -->



<div class="container" name="top">
  <div class="row justify-content-md-center">

  <style>
    .carousel-inner .carousel-item img {
      max-height: 430px; /* 调整图片的最大高度 */
      object-fit: cover; /* 图片保持比例缩放，并填满容器 */
    }
  </style>
  <div id="myCarousel" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
      <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
      <li data-target="#myCarousel" data-slide-to="1"></li>
      <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>

    <!-- Slides -->
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="https://api.237127.xyz/img23/?1" alt="Image 1" style="border-radius: 5%">
      </div>
      <div class="carousel-item">
        <img src="https://api.237127.xyz/img23/?2" alt="Image 2" style="border-radius: 5%">
      </div>
      <div class="carousel-item">
        <img src="https://api.237127.xyz/img23/?3" alt="Image 3" style="border-radius: 5%">
      </div>
    </div>

    <!-- Controls -->
    <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>

  <div style="width: 1080px; height: 30px; background-color: transparent;">
  <!-- 翻页按钮 -->
{% if has_previous_page %}
    <a href="{{ url_for('home', page=current_page-1) }}">Previous</a>
{% endif %}
<span>----------</span>
{% if has_next_page %}
    <a href="{{ url_for('home', page=current_page+1) }}">Next</a>
{% endif %}
  </div>


<div class="container">
  <div class="row">
<div class="col-md-8">
      {% for article in articles %}
        <div class="col-md-6">
          <a href="{{ url_for('blog_detail', article=article) }}" class="card-link">
            <div class="card mb-4" style="border-radius: 10%;background-color: transparent; width: 675px; height: 180px;">
    <div class="card-body" style="display: flex;">
        {% set i = range(1000)|random %}
        <img src="http://api.7trees.cn/img?i={{ i }}" height="120" style="border-radius: 12%; width: 30%;" alt="{{ article }}">
        <h3 class="card-title" style="width: 70%;">&nbsp;&nbsp;&nbsp;&nbsp;{{ article }}</h3>
    </div>
</div>
          </a>
        </div>
      {% endfor %}
<a href="#top">回到顶部</a>
<div style="width: 1080px; height: 30px; background-color: transparent;">
  <!-- 翻页按钮 -->
{% if has_previous_page %}
    <a href="{{ url_for('home', page=current_page-1) }}">Previous</a>
{% endif %}
<span>----------</span>
{% if has_next_page %}
    <a href="{{ url_for('home', page=current_page+1) }}">Next</a>
{% endif %}
  </div>

    </div>

<div class="col-md-2">


  <div>
      <span>Ctrl + F 搜索内容</span>
            </div>

    <a href="#top">回到顶部</a>


        </div>
    </div>
  </div>
</div>


  </div>
</div>
<!-- 引入注脚 -->

<div>
    <br><br><br>
</div>
{% from 'footer.html' import zyfooter %}
<!-- 调用footer -->
{{ zyfooter() }}
</body>

</html>